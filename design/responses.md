# Responses

## Design

Each web-framework provides its own implementation of Responders to Routes.
This is usually based on the return type of a function (the handler).

In our case, the `Response` can be put through some sort of pipeline before it goes out to the user. This means that the actual Response structure will go out of the implementation of a Route struct. 

## Implementation details

Due to the implementation of the `IntoRoute` trait, some common `DbAPIRoute` struct has to be returned.

Said `DbAPIRoute` should contain a handler - likely a Closure - that takes care of calling all the pipeline (so, *before and after* the actual call to the provided handler), which is convenient because that implementation is codegenerated by procedural macros.